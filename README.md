# Система управления библиотекой

## Описание

Это консольное приложение предназначено для управления библиотекой книг. Оно позволяет добавлять, удалять, искать и отображать книги. Каждая книга имеет уникальный идентификатор, название, автора, год издания и статус (в наличии или выдана).

## Функциональные возможности

- **Добавление книги**: Ввод данных о книге (название, автор, год) и автоматическое присвоение уникального ID и статуса "в наличии".
- **Удаление книги**: Удаление книги по её ID.
- **Поиск книги**: Поиск книг по названию, автору или году издания.
- **Отображение всех книг**: Вывод списка всех книг с их данными.
- **Изменение статуса книги**: Изменение статуса книги на "в наличии" или "выдана".

## Требования

- Python 3.10 или выше.

## Установка

1. **Клонирование репозитория**:
   ```bash
   git clone https://github.com/web-mc/test-book-library.git
   cd test-book-library
   ```

2. **Подготовка окружения**:
   Приложение автоматически создаст необходимые директории и файлы при первом запуске.

3. **Запуск приложения**:
   ```bash
   python main.py
   ```

## Использование

- **Запуск приложения**: Выполните команду `python main.py` для запуска консольного приложения.
- **Команды**: Следуйте инструкциям на экране для выполнения различных команд.
  - Введите номер соответствующей команды.
  - Следуйте подсказкам для ввода необходимой информации (например, название книги, автор).

## Внутреннее устройство

- **`main.py`**: Точка входа в приложение. Инициализирует окружение и обрабатывает ввод пользователя.
- **`src/data/books.json`**: Файл, который используется как база данных.
- **`src/manager.py`**: Управляет выполнением команд и потоком приложения.
- **`src/database/json_db.py`**: Обрабатывает хранение и извлечение данных с использованием JSON-файла.
- **`src/commands`**: Содержит модули для каждой команды (например, добавление, удаление).
- **`src/utils`**: Утилиты для обработки ввода и подготовки окружения.
- **`src/logs`**: Находятся 2 файла для логирования ошибок и простых сообщений.
- **`src/config`**: Указаны параметры приложения и логирования.
- **`fake_json_db_generator.py`**: Генерирует фейковые книги и создает новый books.json с фековыми книами. Сделан для облегчения тестирования поиска книг.

## Логика работы

- **Хранение данных**: Книги хранятся в JSON-файле, указанном в конфигурации.
- **Выполнение команд**: Команды выполняются через класс `Manager`, который взаимодействует с классом `JsonDB` для операций с данными.
- **Обработка ошибок**: При возникновении ошибки, приложение сообщяет об этом пользователю, а в error.log пишетутся подробности ошибки.

## Расширение
Для работы с различными базами данных, необходимо создать новый класс, который будет наследоваться от абстрактного класса Database. Этот подход позволяет легко интегрировать новые типы баз данных.

Добавление комманд происходит путем добавления новых функций в папку **`src/commands`** с последующим добавлением в переменную **COMMANDS** в файле **`src/commands/all_commands.py`**
