# Модуль Database

[Вернуться в основной README.md](/README.md)

## Описание

Модуль `database` в папке `src/database` отвечает за управление данными о книгах в приложении. Он предоставляет абстрактный класс `Database` для определения интерфейса работы с базой данных и конкретную реализацию `JsonDB`, которая использует JSON-файл для хранения данных.

Этот модуль обеспечивает гибкость и расширяемость системы управления библиотекой, позволяя легко интегрировать новые типы баз данных.

## Структура папок и файлов

- **`database.py`**: Содержит абстрактный класс `Database`, который определяет интерфейс для работы с базой данных.
- **`json_db.py`**: Реализует класс `JsonDB`, который наследуется от `Database` и использует JSON-файл для хранения данных о книгах.

## Основные сущности и классы

### `Database`

Абстрактный класс, определяющий интерфейс для работы с базой данных. Содержит следующие абстрактные методы:

- `prepare_db`: Подготавливает базу данных, создавая необходимые структуры.
- `get_book_by_id`: Возвращает книгу по её ID.
- `del_book_by_id`: Удаляет книгу по её ID.
- `save_book`: Сохраняет книгу в базе данных.
- `update_book_status`: Обновляет статус книги.
- `get_part_data`: Возвращает часть данных с заданным смещением и лимитом.
- `get_books_by_year`: Возвращает книги, соответствующие заданному условию по году.
- `get_all_books`: Возвращает все книги из базы данных.

### `JsonDB`

Конкретная реализация класса `Database`, использующая JSON-файл для хранения данных. Реализует все методы, определенные в `Database`.

- **Атрибуты**:
  - `file`: Путь к JSON-файлу, используемому для хранения данных.

## Логика работы модуля

- **Хранение данных**: Данные о книгах хранятся в JSON-файле, путь к которому указан в конфигурации приложения.
- **Интерфейс работы с данными**: Абстрактный класс `Database` определяет интерфейс для работы с данными, что позволяет легко расширять функциональность, добавляя новые реализации.
- **Реализация на основе JSON**: Класс `JsonDB` реализует интерфейс `Database`, обеспечивая хранение и управление данными с использованием JSON-файла.
